{"version":3,"names":["TimelinePage","cov_79cf5i2a6","f","project","setProject","s","_react","useState","loading","setLoading","error","setError","useEffect","fetchProject","response","fetch","projects","json","length","b","console","getLastUpdated","createdDate","Date","createdAt","now","diffHours","Math","floor","getTime","diffDays","getTeamMemberCount","contractor","_jsxruntime","jsxs","className","jsx","_Navigation","Navigation","_Button","Button","onClick","_Timeline","Timeline","projectName","name","teamMemberCount","lastUpdated"],"sources":["/Users/kennyc/code/personal/nailit/app/timeline/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Navigation } from '../components/Navigation';\nimport { Timeline } from '../components/Timeline';\nimport { Button } from '../components/ui/Button';\n\ninterface Project {\n  id: string;\n  name: string;\n  description: string;\n  contractor: string;\n  createdAt: string;\n  _count: {\n    flaggedItems: number;\n    timelineEntries: number;\n  };\n}\n\nexport default function TimelinePage() {\n  const [project, setProject] = useState<Project | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchProject();\n  }, []);\n\n  const fetchProject = async () => {\n    try {\n      const response = await fetch('/api/projects');\n      const projects = await response.json();\n      \n      if (projects.length > 0) {\n        setProject(projects[0]); // Use first project for now\n      }\n    } catch (error) {\n      console.error('Error fetching project:', error);\n      setError('Error fetching project. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getLastUpdated = (project: Project) => {\n    const createdDate = new Date(project.createdAt);\n    const now = new Date();\n    const diffHours = Math.floor((now.getTime() - createdDate.getTime()) / (1000 * 60 * 60));\n    \n    if (diffHours < 1) {\n      return 'Just now';\n    } else if (diffHours < 24) {\n      return `${diffHours} hour${diffHours === 1 ? '' : 's'} ago`;\n    } else {\n      const diffDays = Math.floor(diffHours / 24);\n      return `${diffDays} day${diffDays === 1 ? '' : 's'} ago`;\n    }\n  };\n\n  const getTeamMemberCount = () => {\n    // For now, count based on contractor info\n    // In a real app, this would be a proper team members count\n    return project?.contractor ? 2 : 1; // Homeowner + contractor\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navigation />\n        <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"flex flex-col items-center space-y-4\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#34A853]\"></div>\n              <div className=\"text-gray-600 font-medium\">Loading timeline...</div>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navigation />\n        <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"flex flex-col items-center space-y-4\">\n              <div className=\"text-red-500 text-6xl\">⚠️</div>\n              <div className=\"text-red-600 font-medium\">{error}</div>\n              <Button \n                onClick={() => {\n                  setError(null);\n                  fetchProject();\n                }}\n                className=\"bg-[#34A853] hover:bg-[#2d8f47]\"\n              >\n                Try Again\n              </Button>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  if (!project) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navigation />\n        <main className=\"py-8\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\n              <div className=\"text-center text-gray-500 py-12\">\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No project found</h3>\n                <p className=\"text-gray-500\">Create a project to view its timeline.</p>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navigation />\n      \n      <main className=\"py-8\">\n        <Timeline \n          projectName={project.name}\n          teamMemberCount={getTeamMemberCount()}\n          lastUpdated={getLastUpdated(project)}\n        />\n      </main>\n    </div>\n  );\n} "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}