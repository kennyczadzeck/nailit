version: 1.0
runtime: nodejs18
build:
  commands:
    build:
      - echo "Installing dependencies..."
      - npm install --legacy-peer-deps
      - echo "Setting up build environment..."
      - export DATABASE_URL="postgresql://dummy:dummy@localhost:5432/dummy"
      - echo "Running Prisma generate..."
      - npx prisma generate
      - echo "Building Next.js application..."
      - npm run build
run:
  runtime-version: nodejs18
  command: npm start
  network:
    port: 3000
  env:
    - name: NODE_ENV
      value: production
    - name: PORT
      value: "3000" 