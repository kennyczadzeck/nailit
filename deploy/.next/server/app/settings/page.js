(()=>{var a={};a.id=4662,a.ids=[4662],a.modules={732:(a,b,c)=>{"use strict";c.d(b,{R:()=>f});var d=c(60687),e=c(43210);let f=({value:a,onChange:b,placeholder:c="Enter address...",className:f="",apiKey:g})=>{let h=(0,e.useRef)(null),i=(0,e.useRef)(null),[j,k]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(window.google&&window.google.maps&&window.google.maps.places)return void k(!0);if(document.querySelector('script[src*="maps.googleapis.com/maps/api/js"]')||window.googleMapsLoading){window.googleMapsCallbacks||(window.googleMapsCallbacks=[]),window.googleMapsCallbacks.push(()=>k(!0));return}window.googleMapsLoading=!0,window.googleMapsCallbacks=[()=>k(!0)];let a=document.createElement("script");return a.src=`https://maps.googleapis.com/maps/api/js?key=${g}&libraries=places`,a.async=!0,a.defer=!0,window.initGoogleMaps=()=>{window.googleMapsLoading=!1,window.googleMapsCallbacks&&(window.googleMapsCallbacks.forEach(a=>a()),window.googleMapsCallbacks=[])},a.onload=window.initGoogleMaps,a.onerror=()=>{console.error("Failed to load Google Maps API"),window.googleMapsLoading=!1},document.head.appendChild(a),()=>{document.head.contains(a)&&document.head.removeChild(a)}},[g]),(0,e.useEffect)(()=>{if(!j||!h.current||i.current)return;let a=new window.google.maps.places.Autocomplete(h.current,{fields:["address_components","formatted_address","geometry","place_id"],types:["address"],componentRestrictions:{country:"us"}});return i.current=a,a.addListener("place_changed",()=>{let c=a.getPlace();if(!c.geometry)return void console.warn("Place has no geometry");let d=l(c),e=c.formatted_address||"";setTimeout(()=>{b(e,d)},0)}),()=>{i.current&&window.google.maps.event.clearInstanceListeners(i.current)}},[j,b]);let l=a=>{let b=a.address_components||[],c=a=>{let c=b.find(b=>b.types.some(b=>a.includes(b)));return c?.long_name||""};return{formattedAddress:a.formatted_address||"",placeId:a.place_id||"",lat:a.geometry?.location?.lat(),lng:a.geometry?.location?.lng(),streetNumber:c(["street_number"]),route:c(["route"]),locality:c(["locality","administrative_area_level_2"]),administrativeAreaLevel1:c(["administrative_area_level_1"]),country:c(["country"]),postalCode:c(["postal_code"])}};return(0,d.jsx)("input",{ref:h,type:"text",value:a,onChange:a=>{b(a.target.value)},onFocus:()=>{},placeholder:c,className:`w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base sm:text-sm ${f}`})}},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8912:(a,b,c)=>{"use strict";c.d(b,{Wu:()=>i,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(60687);c(43210);var e=c(22857);let f=({children:a,className:b,padding:c="md"})=>(0,d.jsx)("div",{className:(0,e.cn)("bg-white rounded-lg shadow-sm border border-gray-200",{sm:"p-4",md:"p-6",lg:"p-8"}[c],b),children:a}),g=({children:a,className:b})=>(0,d.jsx)("div",{className:(0,e.cn)("mb-4",b),children:a}),h=({children:a,className:b})=>(0,d.jsx)("h3",{className:(0,e.cn)("text-lg font-semibold text-gray-900",b),children:a}),i=({children:a,className:b})=>(0,d.jsx)("div",{className:(0,e.cn)(b),children:a})},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26403:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(43210);let e=d.forwardRef(function({title:a,titleId:b,...c},e){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},c),a?d.createElement("title",{id:b},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31473:(a,b,c)=>{"use strict";c.d(b,{u:()=>k});var d=c(60687);c(43210);var e=c(11806),f=c(8912),g=c(26403),h=c(57252),i=c(59168),j=c(81836);let k=({isOpen:a,onClose:b,onConfirm:c,title:k,description:l,confirmText:m,cancelText:n="Cancel",type:o="warning",loading:p=!1})=>{let q=()=>{b()};if(!a)return null;let r=(()=>{switch(o){case"danger":return{iconColor:"text-red-600",iconBg:"bg-red-100",confirmButton:"bg-red-600 hover:bg-red-700 text-white",titleColor:"text-red-900"};case"warning":default:return{iconColor:"text-amber-600",iconBg:"bg-amber-100",confirmButton:"bg-amber-600 hover:bg-amber-700 text-white",titleColor:"text-amber-900"};case"info":return{iconColor:"text-blue-600",iconBg:"bg-blue-100",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white",titleColor:"text-blue-900"}}})(),s="danger"===o?g.A:"warning"===o?h.A:i.A;return(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,d.jsx)("div",{className:"bg-white rounded-lg w-full max-w-md sm:max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:(0,d.jsxs)(f.Zp,{className:"shadow-xl border-0",children:[(0,d.jsx)(f.aR,{className:"border-b border-gray-200 p-4 sm:p-6",children:(0,d.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,d.jsx)("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center ${r.iconBg}`,children:(0,d.jsx)(s,{className:`w-5 h-5 sm:w-6 sm:h-6 ${r.iconColor}`})}),(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsx)(f.ZB,{className:`text-base sm:text-lg font-semibold ${r.titleColor} pr-2`,children:k})}),(0,d.jsx)(e.$,{variant:"outline",size:"sm",onClick:q,disabled:p,className:"text-gray-400 hover:text-gray-600 min-h-[40px] min-w-[40px] p-2",children:(0,d.jsx)(j.A,{className:"w-4 h-4"})})]})}),(0,d.jsx)(f.Wu,{className:"p-4 sm:p-6",children:(0,d.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-sm sm:text-base",children:l})}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 p-4 sm:p-6 pt-0 border-t border-gray-200",children:[(0,d.jsx)(e.$,{variant:"outline",onClick:q,disabled:p,className:"w-full sm:w-auto order-2 sm:order-1 min-h-[44px]",children:n}),(0,d.jsx)(e.$,{variant:"primary",onClick:()=>{c()},disabled:p,className:`w-full sm:w-auto order-1 sm:order-2 min-h-[44px] ${"danger"===o?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"warning"===o?"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500":""}`,children:p?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{children:"Processing..."})]}):m})]})]})})})}},33873:a=>{"use strict";a.exports=require("path")},38350:(a,b,c)=>{Promise.resolve().then(c.bind(c,42557))},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},42557:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>r});var d=c(60687),e=c(43210),f=c(41673),g=c(8912),h=c(11806),i=c(31473),j=c(74173),k=c(732),l=c(43023),m=c(55067),n=c(59168),o=c(64859);let p=e.forwardRef(function({title:a,titleId:b,...c},d){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?e.createElement("title",{id:b},a):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}),q=e.forwardRef(function({title:a,titleId:b,...c},d){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?e.createElement("title",{id:b},a):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))});function r(){let{currentProject:a,loading:b,refreshProjects:c}=(0,m.B)(),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(""),[D,E]=(0,e.useState)("info"),[F,G]=(0,e.useState)({name:"",description:"",address:"",addressData:null,budget:0,startDate:"",endDate:""}),H="AIzaSyDCLRbf1Nf6NxV4PqO_92-q1wE1rCNOaw0",I=(a,b="info")=>{C(a),E(b),A(!0)},J=async()=>{if(a)try{s(!0);let b=await fetch(`/api/projects/${a.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"archive"})});if(b.ok)await c(),I("Project archived successfully!","success");else{let a=await b.json();I(a.error||"Failed to archive project","error")}}catch(a){console.error("Error archiving project:",a),I("Failed to archive project","error")}finally{s(!1),w(!1)}},K=async()=>{if(a)try{u(!0);let b=await fetch(`/api/projects/${a.id}`,{method:"DELETE"});if(b.ok)I("Project deleted successfully!","success"),window.location.href="/projects/create";else{let a=await b.json();I(a.error||"Failed to delete project","error")}}catch(a){console.error("Error deleting project:",a),I("Failed to delete project","error")}finally{u(!1),y(!1)}};if(b)return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)(f.V,{}),(0,d.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,d.jsxs)("div",{className:"animate-pulse",children:[(0,d.jsx)("div",{className:"h-8 bg-gray-200 rounded w-64 mb-4"}),(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-96 mb-8"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsx)("div",{className:"h-64 bg-gray-200 rounded"})}),(0,d.jsx)("div",{className:"lg:col-span-2",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"h-96 bg-gray-200 rounded"}),(0,d.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})})]})]})})]});if(!a)return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)(f.V,{}),(0,d.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Project Found"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Create a project first to access settings."}),(0,d.jsx)(h.$,{onClick:()=>window.location.href="/projects/create",children:"Create Your First Project"})]})})]});let L=a=>a?new Date(a).toISOString().split("T")[0]:"";return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)(f.V,{}),(0,d.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Settings"}),(0,d.jsx)("p",{className:"text-gray-600 mt-1",children:"Configure your project monitoring and notifications"})]})}),a?.status==="ARCHIVED"&&(0,d.jsx)(g.Zp,{className:"bg-amber-50 border-amber-200 mb-8",children:(0,d.jsx)(g.Wu,{className:"p-6",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(n.A,{className:"h-5 w-5 text-amber-400"})}),(0,d.jsxs)("div",{className:"ml-3",children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-amber-800",children:"Project Archived"}),(0,d.jsx)("div",{className:"mt-2 text-sm text-amber-700",children:(0,d.jsx)("p",{children:"This project is archived and read-only. Email monitoring has stopped. You can view data but cannot modify settings."})})]})]})})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsx)(g.Zp,{className:"sticky top-8",children:(0,d.jsx)(g.Wu,{className:"p-6",children:(0,d.jsxs)("nav",{className:"space-y-2",children:[(0,d.jsxs)("a",{href:"#monitoring",className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-900 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",onClick:a=>{a.preventDefault(),document.getElementById("monitoring")?.scrollIntoView({behavior:"smooth"})},children:[(0,d.jsx)(o.A,{className:"w-5 h-5"}),"Email Monitoring"]}),(0,d.jsxs)("a",{href:"#notifications",className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",onClick:a=>{a.preventDefault(),document.getElementById("notifications")?.scrollIntoView({behavior:"smooth"})},children:[(0,d.jsx)(p,{className:"w-5 h-5"}),"Notifications"]}),(0,d.jsxs)("a",{href:"#project",className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",onClick:a=>{a.preventDefault(),document.getElementById("project")?.scrollIntoView({behavior:"smooth"})},children:[(0,d.jsx)(q,{className:"w-5 h-5"}),"Project Details"]})]})})})}),(0,d.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,d.jsx)("div",{id:"monitoring",children:(0,d.jsxs)(g.Zp,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"w-5 h-5"}),"Email Monitoring"]})}),(0,d.jsxs)(g.Wu,{className:"space-y-6",children:[(0,d.jsx)("div",{className:`${a.emailSettings?.monitoringEnabled?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"} border rounded-lg p-4`,children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(o.A,{className:`h-5 w-5 ${a.emailSettings?.monitoringEnabled?"text-green-400":"text-gray-400"}`})}),(0,d.jsxs)("div",{className:"ml-3",children:[(0,d.jsx)("h3",{className:`text-sm font-medium ${a.emailSettings?.monitoringEnabled?"text-green-800":"text-gray-800"}`,children:a.emailSettings?.monitoringEnabled?"Monitoring Active":"Monitoring Inactive"}),(0,d.jsx)("div",{className:`mt-2 text-sm ${a.emailSettings?.monitoringEnabled?"text-green-700":"text-gray-700"}`,children:(0,d.jsx)("p",{children:a.emailSettings?.monitoringEnabled?"NailIt is actively monitoring emails from your contractor and team members for important project updates.":"Email monitoring is currently disabled. Enable it to track project updates."})})]})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Monitored Email Addresses"}),(0,d.jsxs)("div",{className:"space-y-2",children:[a.teamMembers&&a.teamMembers.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.email}),(0,d.jsxs)("p",{className:"text-xs text-gray-600",children:[a.name," - ","GENERAL_CONTRACTOR"===a.role?"General Contractor":"ARCHITECT_DESIGNER"===a.role?"Architect/Designer":"Project Manager"]})]}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",children:"Remove"})]},a.id)),(!a.teamMembers||0===a.teamMembers.length)&&(0,d.jsx)("div",{className:"text-center py-6 text-gray-500",children:(0,d.jsx)("p",{className:"text-sm",children:"No team members configured for monitoring."})})]}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",className:"mt-3",children:"Add Email Address"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Detection Sensitivity"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"sensitivity",value:"high",defaultChecked:!0,className:"mr-3"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"High Sensitivity"}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"Flag more potential changes (may include false positives)"})]})]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"sensitivity",value:"medium",className:"mr-3"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Medium Sensitivity (Recommended)"}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"Balanced detection with good accuracy"})]})]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"sensitivity",value:"low",className:"mr-3"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Low Sensitivity"}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"Only flag obvious and significant changes"})]})]})]})]})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(h.$,{children:"Save Monitoring Settings"})})]})]})}),(0,d.jsx)("div",{id:"notifications",children:(0,d.jsxs)(g.Zp,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(p,{className:"w-5 h-5"}),"Project Notifications"]})}),(0,d.jsxs)(g.Wu,{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Immediate Alerts"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Get notified immediately when high-priority changes are detected"})]}),(0,d.jsx)("input",{type:"checkbox",defaultChecked:a.emailSettings?.highPriorityAlerts,className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Daily Summaries"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Receive daily digest of all project activity"})]}),(0,d.jsx)("input",{type:"checkbox",defaultChecked:a.emailSettings?.notificationsEnabled,className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Weekly Reports"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Comprehensive weekly project progress reports"})]}),(0,d.jsx)("input",{type:"checkbox",defaultChecked:a.emailSettings?.weeklyReports,className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Milestone Reminders"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Reminders for important project deadlines"})]}),(0,d.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Notification Schedule"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("label",{className:"text-sm text-gray-700 w-24",children:"Quiet Hours:"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"time",defaultValue:"22:00",className:"px-2 py-1 border border-gray-300 rounded text-sm"}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"to"}),(0,d.jsx)("input",{type:"time",defaultValue:"08:00",className:"px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("label",{className:"text-sm text-gray-700 w-24",children:"Weekend:"}),(0,d.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Pause notifications on weekends"})]})]})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(h.$,{children:"Save Notification Settings"})})]})]})}),(0,d.jsx)("div",{id:"project",children:(0,d.jsxs)(g.Zp,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(q,{className:"w-5 h-5"}),"Project Details"]})}),(0,d.jsxs)(g.Wu,{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"projectName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name"}),(0,d.jsx)("input",{type:"text",id:"projectName",value:F.name,onChange:a=>G(b=>({...b,name:a.target.value})),readOnly:"ARCHIVED"===a.status,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ${"ARCHIVED"===a.status?"bg-gray-50 cursor-not-allowed":""}`})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"contractor",className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Contractor"}),(0,d.jsx)("input",{type:"text",id:"contractor",value:a.teamMembers?.find(a=>"GENERAL_CONTRACTOR"===a.role)?.name||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 cursor-not-allowed",placeholder:"Set via team members"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Description"}),(0,d.jsx)("textarea",{id:"description",rows:3,value:F.description,onChange:a=>G(b=>({...b,description:a.target.value})),readOnly:"ARCHIVED"===a.status,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ${"ARCHIVED"===a.status?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"Enter project description..."})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,d.jsx)("input",{type:"date",id:"startDate",value:L(F.startDate),onChange:a=>G(b=>({...b,startDate:a.target.value})),readOnly:"ARCHIVED"===a.status,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ${"ARCHIVED"===a.status?"bg-gray-50 cursor-not-allowed":""}`})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Completion"}),(0,d.jsx)("input",{type:"date",id:"endDate",value:F.endDate?L(F.endDate):"",onChange:a=>G(b=>({...b,endDate:a.target.value})),readOnly:"ARCHIVED"===a.status,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ${"ARCHIVED"===a.status?"bg-gray-50 cursor-not-allowed":""}`})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),H&&"ARCHIVED"!==a.status?(0,d.jsx)(k.R,{value:F.address,onChange:(a,b)=>{G(c=>({...c,address:a,addressData:b||null}))},placeholder:"Enter project address...",apiKey:H}):(0,d.jsx)("input",{type:"text",id:"address",value:F.address,onChange:a=>G(b=>({...b,address:a.target.value})),readOnly:"ARCHIVED"===a.status,placeholder:H?"Enter project address...":"Google Maps API key required for autocomplete",className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ${"ARCHIVED"===a.status?"bg-gray-50 cursor-not-allowed":""}`})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget"}),(0,d.jsx)(l.U,{value:F.budget,onChange:(a,b)=>{G(a=>({...a,budget:b}))},placeholder:"Enter project budget",disabled:"ARCHIVED"===a.status})]})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(h.$,{disabled:"ARCHIVED"===a.status,children:"ARCHIVED"===a.status?"Project Archived":"Update Project Details"})})]})]})}),(0,d.jsxs)(g.Zp,{className:"border-red-200",children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2 text-red-700",children:[(0,d.jsx)(n.A,{className:"w-5 h-5"}),"Project Actions"]})}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Archive Project"}),(0,d.jsx)("p",{className:"text-sm text-yellow-700 mb-3",children:"ARCHIVED"===a.status?"Project archived. Email monitoring stopped, data is read-only.":"Archive project to stop monitoring and preserve data. Creates space for new projects."}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",className:"text-yellow-700 border-yellow-300 hover:bg-yellow-50",onClick:()=>w(!0),disabled:r||"ARCHIVED"===a.status,children:r?"Archiving...":"ARCHIVED"===a.status?"Already Archived":"Archive Project"})]}),(0,d.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Delete Project"}),(0,d.jsx)("p",{className:"text-sm text-red-700 mb-3",children:"Permanently delete this project and all associated data. This action cannot be undone."}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",className:"text-red-700 border-red-300 hover:bg-red-50",onClick:()=>y(!0),children:t?"Deleting...":"Delete Project"})]})]})]})]})]})]}),v&&a&&(0,d.jsx)(i.u,{isOpen:v,onClose:()=>w(!1),onConfirm:J,title:"Archive Project",description:`Archive "${a.name}"?

This will:
• Stop email monitoring
• Make project read-only
• Enable creation of new projects

Archived project data remains accessible for viewing.`,confirmText:"Archive Project",cancelText:"Cancel",type:"warning",loading:r}),x&&a&&(0,d.jsx)(i.u,{isOpen:x,onClose:()=>y(!1),onConfirm:K,title:"Permanently Delete Project",description:`This action cannot be undone. This will permanently delete the "${a.name}" project, including all timeline entries and flagged items. Please type the project name to confirm.`,confirmText:"Delete Project",cancelText:"Cancel",type:"danger",loading:t}),(0,d.jsx)(j.y,{isOpen:z,onClose:()=>A(!1),title:B,type:D})]})}},43023:(a,b,c)=>{"use strict";c.d(b,{U:()=>f});var d=c(60687),e=c(43210);let f=({value:a,onChange:b,placeholder:c="Enter budget...",className:f="",disabled:g=!1})=>{let[h,i]=(0,e.useState)(""),[j,k]=(0,e.useState)(!1),l=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),m=a=>{let b=parseFloat(a.replace(/[^\d.]/g,""));return isNaN(b)?0:b};return(0,e.useEffect)(()=>{if(!j){let b="string"==typeof a?m(a):a||0;b>0?i(l(b)):i("")}},[a,j]),(0,d.jsx)("input",{type:"text",value:h,onChange:a=>{let c=a.target.value;if(j){let a=c.replace(/[^\d.]/g,"");if(a.split(".").length>2)return;i(a);let d=m(a);b(a,d)}},onFocus:()=>{k(!0);let b="string"==typeof a?m(a):a||0;b>0?i(b.toString()):i("")},onBlur:()=>{k(!1);let a=m(h);if(a>0){let c=l(a);i(c),b(c,a)}else i(""),b("",0)},onKeyDown:a=>{-1===[46,8,9,27,13,110,190].indexOf(a.keyCode)&&(65!==a.keyCode||!0!==a.ctrlKey)&&(67!==a.keyCode||!0!==a.ctrlKey)&&(86!==a.keyCode||!0!==a.ctrlKey)&&(88!==a.keyCode||!0!==a.ctrlKey)&&(!(a.keyCode>=35)||!(a.keyCode<=39))&&(a.shiftKey||a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105)&&a.preventDefault()},placeholder:j?c.replace(/^\$\s*/,""):`$ ${c.replace(/^\$\s*/,"")}`,disabled:g,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g?"bg-gray-50 cursor-not-allowed":""} ${f}`})}},58089:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(43210);let e=d.forwardRef(function({title:a,titleId:b,...c},e){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},c),a?d.createElement("title",{id:b},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},59168:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(43210);let e=d.forwardRef(function({title:a,titleId:b,...c},e){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},c),a?d.createElement("title",{id:b},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64859:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(43210);let e=d.forwardRef(function({title:a,titleId:b,...c},e){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},c),a?d.createElement("title",{id:b},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))})},68513:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>g.a,__next_app__:()=>l,pages:()=>k,routeModule:()=>m,tree:()=>j});var d=c(65239),e=c(48088),f=c(88665),g=c.n(f),h=c(30893),i={};for(let a in h)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(a)&&(i[a]=()=>h[a]);c.d(b,i);let j={children:["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,98245)),"/Users/kennyc/code/personal/nailit/app/settings/page.tsx"]}]},{metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,58014)),"/Users/kennyc/code/personal/nailit/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,k=["/Users/kennyc/code/personal/nailit/app/settings/page.tsx"],l={require:c,loadChunk:()=>Promise.resolve()},m=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:j},distDir:".next",projectDir:""})},74173:(a,b,c)=>{"use strict";c.d(b,{y:()=>i});var d=c(60687),e=c(43210),f=c(58089),g=c(59168),h=c(81836);let i=({isOpen:a,onClose:b,title:c,description:i,type:j="info",duration:k=5e3})=>{if((0,e.useEffect)(()=>{if(a&&k>0){let a=setTimeout(()=>{b()},k);return()=>clearTimeout(a)}},[a,k,b]),!a)return null;let l=(()=>{switch(j){case"success":return{bgColor:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700"};case"error":return{bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",titleColor:"text-red-800",textColor:"text-red-700"};case"warning":return{bgColor:"bg-amber-50",borderColor:"border-amber-200",iconColor:"text-amber-600",titleColor:"text-amber-800",textColor:"text-amber-700"};case"info":return{bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",titleColor:"text-blue-800",textColor:"text-blue-700"};default:return{bgColor:"bg-gray-50",borderColor:"border-gray-200",iconColor:"text-gray-600",titleColor:"text-gray-800",textColor:"text-gray-700"}}})(),m="success"===j?f.A:g.A;return(0,d.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top-2 duration-300",children:(0,d.jsx)("div",{className:`max-w-sm w-full ${l.bgColor} ${l.borderColor} border rounded-lg shadow-lg`,children:(0,d.jsx)("div",{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(m,{className:`h-5 w-5 ${l.iconColor}`})}),(0,d.jsxs)("div",{className:"ml-3 w-0 flex-1",children:[(0,d.jsx)("p",{className:`text-sm font-medium ${l.titleColor}`,children:c}),i&&(0,d.jsx)("p",{className:`mt-1 text-sm ${l.textColor}`,children:i})]}),(0,d.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,d.jsxs)("button",{onClick:b,className:`rounded-md inline-flex ${l.textColor} hover:${l.titleColor} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-green-50 focus:ring-green-600`,children:[(0,d.jsx)("span",{className:"sr-only",children:"Close"}),(0,d.jsx)(h.A,{className:"h-4 w-4"})]})})]})})})})}},77670:(a,b,c)=>{Promise.resolve().then(c.bind(c,98245))},98245:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kennyc/code/personal/nailit/app/settings/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kennyc/code/personal/nailit/app/settings/page.tsx","default")}};var b=require("../../webpack-runtime.js");b.C(a);var c=a=>b(b.s=a),d=b.X(0,[7719,4026,9069,5814,1727],()=>c(68513));module.exports=d})();