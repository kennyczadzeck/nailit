"use strict";exports.id=9455,exports.ids=[9455],exports.modules={39455:(a,b,c)=>{c.d(b,{GetRoleCredentialsCommand:()=>H,SSOClient:()=>aN});var d=c(93976),e=c(8839),f=c(2312);let g=a=>Object.assign(a,{useDualstackEndpoint:a.useDualstackEndpoint??!1,useFipsEndpoint:a.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),h={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class i extends f.TJ{constructor(a){super(a),Object.setPrototypeOf(this,i.prototype)}}class j extends i{name="InvalidRequestException";$fault="client";constructor(a){super({name:"InvalidRequestException",$fault:"client",...a}),Object.setPrototypeOf(this,j.prototype)}}class k extends i{name="ResourceNotFoundException";$fault="client";constructor(a){super({name:"ResourceNotFoundException",$fault:"client",...a}),Object.setPrototypeOf(this,k.prototype)}}class l extends i{name="TooManyRequestsException";$fault="client";constructor(a){super({name:"TooManyRequestsException",$fault:"client",...a}),Object.setPrototypeOf(this,l.prototype)}}class m extends i{name="UnauthorizedException";$fault="client";constructor(a){super({name:"UnauthorizedException",$fault:"client",...a}),Object.setPrototypeOf(this,m.prototype)}}let n=a=>({...a,...a.accessToken&&{accessToken:f.$H}}),o=a=>({...a,...a.secretAccessKey&&{secretAccessKey:f.$H},...a.sessionToken&&{sessionToken:f.$H}}),p=a=>({...a,...a.roleCredentials&&{roleCredentials:o(a.roleCredentials)}});var q=c(22232),r=c(36249);let s=async(a,b)=>{let c,d=(0,r.lI)(a,b),e=(0,f.Tj)({},f.eU,{[G]:a[C]});d.bp("/federation/credentials");let g=(0,f.Tj)({[F]:[,(0,f.Y0)(a[E],"roleName")],[D]:[,(0,f.Y0)(a[B],"accountId")]});return d.m("GET").h(e).q(g).b(c),d.build()},t=async(a,b)=>{if(200!==a.statusCode&&a.statusCode>=300)return u(a,b);let c=(0,f.Tj)({$metadata:A(a)}),d=(0,f.Y0)((0,f.Xk)(await (0,q.Y2)(a.body,b)),"body");return Object.assign(c,(0,f.s)(d,{roleCredentials:f.Ss})),c},u=async(a,b)=>{let c={...a,body:await (0,q.CG)(a.body,b)},d=(0,q.cJ)(a,c.body);switch(d){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await w(c,b);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await x(c,b);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await y(c,b);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await z(c,b);default:return v({output:a,parsedBody:c.body,errorCode:d})}},v=(0,f.jr)(i),w=async(a,b)=>{let c=(0,f.Tj)({}),d=a.body;Object.assign(c,(0,f.s)(d,{message:f.lK}));let e=new j({$metadata:A(a),...c});return(0,f.Mw)(e,a.body)},x=async(a,b)=>{let c=(0,f.Tj)({}),d=a.body;Object.assign(c,(0,f.s)(d,{message:f.lK}));let e=new k({$metadata:A(a),...c});return(0,f.Mw)(e,a.body)},y=async(a,b)=>{let c=(0,f.Tj)({}),d=a.body;Object.assign(c,(0,f.s)(d,{message:f.lK}));let e=new l({$metadata:A(a),...c});return(0,f.Mw)(e,a.body)},z=async(a,b)=>{let c=(0,f.Tj)({}),d=a.body;Object.assign(c,(0,f.s)(d,{message:f.lK}));let e=new m({$metadata:A(a),...c});return(0,f.Mw)(e,a.body)},A=a=>({httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}),B="accountId",C="accessToken",D="account_id",E="roleName",F="role_name",G="x-amz-sso_bearer_token";class H extends f.uB.classBuilder().ep(h).m(function(a,b,c,f){return[(0,e.TM)(c,this.serialize,this.deserialize),(0,d.rD)(c,a.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(n,p).ser(s).de(t).build(){}var I=c(36576),J=c(43208),K=c(22218),L=c(59883),M=c(6284),N=c(68270),O=c(49127),P=c(96705),Q=c(90378);let R=async(a,b,c)=>({operation:(0,Q.u)(b).operation,region:await (0,Q.t)(a.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),S=a=>{let b=[];switch(a.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":b.push({schemeId:"smithy.api#noAuth"});break;default:b.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})})}return b},T=a=>Object.assign((0,P.h)(a),{authSchemePreference:(0,Q.t)(a.authSchemePreference??[])}),U={rE:"3.821.0"};var V=c(95941),W=c(30438),X=c(54285),Y=c(5334),Z=c(1226),$=c(66426),_=c(11396),aa=c(75843),ab=c(75089),ac=c(68378),ad=c(139),ae=c(37979),af=c(1037),ag=c(90599);let ah="required",ai="argv",aj="isSet",ak="booleanEquals",al="error",am="endpoint",an="tree",ao="PartitionResult",ap="getAttr",aq={[ah]:!1,type:"String"},ar={[ah]:!0,default:!1,type:"Boolean"},as={ref:"Endpoint"},at={fn:ak,[ai]:[{ref:"UseFIPS"},!0]},au={fn:ak,[ai]:[{ref:"UseDualStack"},!0]},av={},aw={fn:ap,[ai]:[{ref:ao},"supportsFIPS"]},ax={ref:ao},ay={fn:ak,[ai]:[!0,{fn:ap,[ai]:[ax,"supportsDualStack"]}]},az=[at],aA=[au],aB=[{ref:"Region"}],aC={version:"1.0",parameters:{Region:aq,UseDualStack:ar,UseFIPS:ar,Endpoint:aq},rules:[{conditions:[{fn:aj,[ai]:[as]}],rules:[{conditions:az,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:al},{conditions:aA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:al},{endpoint:{url:as,properties:av,headers:av},type:am}],type:an},{conditions:[{fn:aj,[ai]:aB}],rules:[{conditions:[{fn:"aws.partition",[ai]:aB,assign:ao}],rules:[{conditions:[at,au],rules:[{conditions:[{fn:ak,[ai]:[!0,aw]},ay],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:av,headers:av},type:am}],type:an},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:al}],type:an},{conditions:az,rules:[{conditions:[{fn:ak,[ai]:[aw,!0]}],rules:[{conditions:[{fn:"stringEquals",[ai]:[{fn:ap,[ai]:[ax,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:av,headers:av},type:am},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:av,headers:av},type:am}],type:an},{error:"FIPS is enabled but this partition does not support FIPS",type:al}],type:an},{conditions:aA,rules:[{conditions:[ay],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:av,headers:av},type:am}],type:an},{error:"DualStack is enabled but this partition does not support DualStack",type:al}],type:an},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:av,headers:av},type:am}],type:an}],type:an},{error:"Invalid Configuration: Missing Region",type:al}]},aD=new ag.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),aE=(a,b={})=>aD.get(a,()=>(0,ag.sO)(aC,{endpointParams:a,logger:b.logger}));ag.mw.aws=af.UF;let aF=a=>({apiVersion:"2019-06-10",base64Decoder:a?.base64Decoder??ad.E,base64Encoder:a?.base64Encoder??ad.n,disableHostPrefix:a?.disableHostPrefix??!1,endpointProvider:a?.endpointProvider??aE,extensions:a?.extensions??[],httpAuthSchemeProvider:a?.httpAuthSchemeProvider??S,httpAuthSchemes:a?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4"),signer:new ab.f2},{schemeId:"smithy.api#noAuth",identityProvider:a=>a.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new r.mR}],logger:a?.logger??new f.N4,serviceId:a?.serviceId??"SSO",urlParser:a?.urlParser??ac.D,utf8Decoder:a?.utf8Decoder??ae.ar,utf8Encoder:a?.utf8Encoder??ae.Pq});var aG=c(52262);let aH=a=>{(0,f.I9)(process.version);let b=(0,aG.I)(a),c=()=>b().then(f.lT),d=aF(a);(0,V.I)(process.version);let e={profile:a?.profile,logger:d.logger};return{...d,...a,runtime:"node",defaultsMode:b,authSchemePreference:a?.authSchemePreference??(0,Z.Z)(W.$,e),bodyLengthChecker:a?.bodyLengthChecker??_.n,defaultUserAgentProvider:a?.defaultUserAgentProvider??(0,X.pf)({serviceId:d.serviceId,clientVersion:U.rE}),maxAttempts:a?.maxAttempts??(0,Z.Z)(O.qs,a),region:a?.region??(0,Z.Z)(M.GG,{...M.zH,...e}),requestHandler:$.$c.create(a?.requestHandler??c),retryMode:a?.retryMode??(0,Z.Z)({...O.kN,default:async()=>(await c()).retryMode||aa.L0},a),sha256:a?.sha256??Y.V.bind(null,"sha256"),streamCollector:a?.streamCollector??$.kv,useDualstackEndpoint:a?.useDualstackEndpoint??(0,Z.Z)(M.e$,e),useFipsEndpoint:a?.useFipsEndpoint??(0,Z.Z)(M.Ko,e),userAgentAppId:a?.userAgentAppId??(0,Z.Z)(X.hV,e)}};var aI=c(41352),aJ=c(31734);let aK=a=>{let b=a.httpAuthSchemes,c=a.httpAuthSchemeProvider,d=a.credentials;return{setHttpAuthScheme(a){let c=b.findIndex(b=>b.schemeId===a.schemeId);-1===c?b.push(a):b.splice(c,1,a)},httpAuthSchemes:()=>b,setHttpAuthSchemeProvider(a){c=a},httpAuthSchemeProvider:()=>c,setCredentials(a){d=a},credentials:()=>d}},aL=a=>({httpAuthSchemes:a.httpAuthSchemes(),httpAuthSchemeProvider:a.httpAuthSchemeProvider(),credentials:a.credentials()}),aM=(a,b)=>{let c=Object.assign((0,aI.Rq)(a),(0,f.xA)(a),(0,aJ.eS)(a),aK(a));return b.forEach(a=>a.configure(c)),Object.assign(a,(0,aI.$3)(c),(0,f.uv)(c),(0,aJ.jt)(c),aL(c))};class aN extends f.Kj{config;constructor(...[a]){let b=aH(a||{});super(b),this.initConfig=b;let c=g(b),e=(0,L.Dc)(c),f=(0,O.$z)(e),h=(0,M.TD)(f),i=(0,I.OV)(h),j=aM(T((0,d.Co)(i)),a?.extensions||[]);this.config=j,this.middlewareStack.use((0,L.sM)(this.config)),this.middlewareStack.use((0,O.ey)(this.config)),this.middlewareStack.use((0,N.vK)(this.config)),this.middlewareStack.use((0,I.TC)(this.config)),this.middlewareStack.use((0,J.Y7)(this.config)),this.middlewareStack.use((0,K.n4)(this.config)),this.middlewareStack.use((0,r.wB)(this.config,{httpAuthSchemeParametersProvider:R,identityProviderConfigProvider:async a=>new r.h$({"aws.auth#sigv4":a.credentials})})),this.middlewareStack.use((0,r.lW)(this.config))}destroy(){super.destroy()}}}};