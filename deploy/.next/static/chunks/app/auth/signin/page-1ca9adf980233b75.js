(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4680],{1568:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(5155),a=r(2108),n=r(5695),i=r(2115),l=r(4768);function c(){let e=(0,n.useSearchParams)(),{data:s,status:r}=(0,a.useSession)(),[c,o]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(e.get("error"))return void u("Authentication failed. Please try again.");if("authenticated"===r&&(null==s?void 0:s.user)){console.log("User authenticated, redirecting immediately"),window.location.href="/dashboard";return}},[s,r,e]);let m=async()=>{o(!0),u(null);try{await (0,a.signIn)("google",{callbackUrl:"/dashboard"})}catch(e){console.error("Sign in error:",e),u("Sign in failed. Please try again."),o(!1)}};return"loading"===r?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):"authenticated"===r?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Redirecting to dashboard..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,t.jsx)("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-blue-100",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome to NailIt"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Track your construction projects with intelligent email monitoring"})]}),(0,t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,t.jsxs)("div",{className:"space-y-6",children:[d&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:d})})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Sign in with your Google account to access Gmail monitoring and project tracking features."}),(0,t.jsx)(l.$,{onClick:m,disabled:c,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-3"}),"Signing in..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Why Google?"})})]}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-gray-500 space-y-2",children:[(0,t.jsx)("p",{children:"• NailIt monitors your Gmail for project updates"}),(0,t.jsx)("p",{children:"• Seamless integration with your existing workflow"}),(0,t.jsx)("p",{children:"• Send replies directly through the platform"}),(0,t.jsx)("p",{children:"• Personal Gmail accounts only (no Google Workspace)"})]})]})]})})})]})}function o(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}),children:(0,t.jsx)(c,{})})}},4143:(e,s,r)=>{"use strict";r.d(s,{cn:()=>n});var t=r(2596),a=r(9688);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}},4768:(e,s,r)=>{"use strict";r.d(s,{$:()=>n});var t=r(5155);r(2115);var a=r(4143);let n=e=>{let{variant:s="primary",size:r="md",className:n,children:i,...l}=e;return(0,t.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-[#34A853] text-white hover:bg-[#2D9348] focus:ring-[#34A853]",secondary:"bg-[#1A73E8] text-white hover:bg-[#1557B0] focus:ring-[#1A73E8]",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-[#34A853]",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-[#34A853]"}[s],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[r],n),...l,children:i})}},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},7814:(e,s,r)=>{Promise.resolve().then(r.bind(r,1568))}},e=>{var s=s=>e(e.s=s);e.O(0,[4277,2108,8441,1684,7358],()=>s(7814)),_N_E=e.O()}]);