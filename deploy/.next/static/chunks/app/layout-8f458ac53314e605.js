(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{3115:(e,t,r)=>{Promise.resolve().then(r.bind(r,3574)),Promise.resolve().then(r.t.bind(r,5977,23)),Promise.resolve().then(r.t.bind(r,9324,23))},3574:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>n});var s=r(5155),a=r(2108),l=r(5039);function n(e){let{children:t}=e;return(0,s.jsx)(a.SessionProvider,{children:(0,s.jsx)(l.N,{children:t})})}},5039:(e,t,r)=>{"use strict";r.d(t,{B:()=>o,N:()=>i});var s=r(5155),a=r(2115),l=r(2108);let n=(0,a.createContext)(null),o=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useProject must be used within a ProjectProvider");return e},i=e=>{let{children:t}=e,{data:r}=(0,l.useSession)(),[o,i]=(0,a.useState)(null),[c,u]=(0,a.useState)([]),[d,f]=(0,a.useState)(!0),h=a.useCallback(async()=>{if(!r)return void f(!1);try{let e=await fetch("/api/projects");if(e.ok){let t=await e.json();u(t);let r=localStorage.getItem("currentProjectId"),s=null;r&&(s=t.find(e=>e.id===r)),s||(s=t.find(e=>"ACTIVE"===e.status)||t[0]),i(s||null),s&&localStorage.setItem("currentProjectId",s.id)}}catch(e){console.error("Error fetching projects:",e)}finally{f(!1)}},[r]),v=async()=>{await h()};return(0,a.useEffect)(()=>{h()},[r,h]),(0,s.jsx)(n.Provider,{value:{currentProject:o,projects:c,loading:d,switchProject:e=>{let t=c.find(t=>t.id===e);t&&(i(t),localStorage.setItem("currentProjectId",t.id))},refreshProjects:v},children:t})}},5977:e=>{e.exports={style:{fontFamily:"'Open Sans', 'Open Sans Fallback'",fontStyle:"normal"},className:"__className_5030fb",variable:"__variable_5030fb"}},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[7496,2108,8441,1684,7358],()=>t(3115)),_N_E=e.O()}]);