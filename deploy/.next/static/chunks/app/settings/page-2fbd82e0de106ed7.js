(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{522:(e,s,t)=>{Promise.resolve().then(t.bind(t,9997))},8099:(e,s,t)=>{"use strict";t.d(s,{U:()=>l});var a=t(5155),r=t(2115);let l=e=>{let{value:s,onChange:t,placeholder:l="Enter budget...",className:n="",disabled:i=!1}=e,[o,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),x=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),u=e=>{let s=parseFloat(e.replace(/[^\d.]/g,""));return isNaN(s)?0:s};return(0,r.useEffect)(()=>{if(!d){let e="string"==typeof s?u(s):s||0;e>0?c(x(e)):c("")}},[s,d]),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>{let s=e.target.value;if(d){let e=s.replace(/[^\d.]/g,"");if(e.split(".").length>2)return;c(e);let a=u(e);t(e,a)}},onFocus:()=>{m(!0);let e="string"==typeof s?u(s):s||0;e>0?c(e.toString()):c("")},onBlur:()=>{m(!1);let e=u(o);if(e>0){let s=x(e);c(s),t(s,e)}else c(""),t("",0)},onKeyDown:e=>{-1===[46,8,9,27,13,110,190].indexOf(e.keyCode)&&(65!==e.keyCode||!0!==e.ctrlKey)&&(67!==e.keyCode||!0!==e.ctrlKey)&&(86!==e.keyCode||!0!==e.ctrlKey)&&(88!==e.keyCode||!0!==e.ctrlKey)&&(!(e.keyCode>=35)||!(e.keyCode<=39))&&(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()},placeholder:d?l.replace(/^\$\s*/,""):"$ ".concat(l.replace(/^\$\s*/,"")),disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(i?"bg-gray-50 cursor-not-allowed":""," ").concat(n)})}},9224:(e,s,t)=>{"use strict";t.d(s,{R:()=>l});var a=t(5155),r=t(2115);let l=e=>{let{value:s,onChange:t,placeholder:l="Enter address...",className:n="",apiKey:i}=e,o=(0,r.useRef)(null),c=(0,r.useRef)(null),[d,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(window.google&&window.google.maps&&window.google.maps.places)return void m(!0);if(document.querySelector('script[src*="maps.googleapis.com/maps/api/js"]')||window.googleMapsLoading){window.googleMapsCallbacks||(window.googleMapsCallbacks=[]),window.googleMapsCallbacks.push(()=>m(!0));return}window.googleMapsLoading=!0,window.googleMapsCallbacks=[()=>m(!0)];let e=document.createElement("script");return e.src="https://maps.googleapis.com/maps/api/js?key=".concat(i,"&libraries=places"),e.async=!0,e.defer=!0,window.initGoogleMaps=()=>{window.googleMapsLoading=!1,window.googleMapsCallbacks&&(window.googleMapsCallbacks.forEach(e=>e()),window.googleMapsCallbacks=[])},e.onload=window.initGoogleMaps,e.onerror=()=>{console.error("Failed to load Google Maps API"),window.googleMapsLoading=!1},document.head.appendChild(e),()=>{document.head.contains(e)&&document.head.removeChild(e)}},[i]),(0,r.useEffect)(()=>{if(!d||!o.current||c.current)return;let e=new window.google.maps.places.Autocomplete(o.current,{fields:["address_components","formatted_address","geometry","place_id"],types:["address"],componentRestrictions:{country:"us"}});return c.current=e,e.addListener("place_changed",()=>{let s=e.getPlace();if(!s.geometry)return void console.warn("Place has no geometry");let a=x(s),r=s.formatted_address||"";setTimeout(()=>{t(r,a)},0)}),()=>{c.current&&window.google.maps.event.clearInstanceListeners(c.current)}},[d,t]);let x=e=>{var s,t,a,r;let l=e.address_components||[],n=e=>{let s=l.find(s=>s.types.some(s=>e.includes(s)));return(null==s?void 0:s.long_name)||""};return{formattedAddress:e.formatted_address||"",placeId:e.place_id||"",lat:null==(t=e.geometry)||null==(s=t.location)?void 0:s.lat(),lng:null==(r=e.geometry)||null==(a=r.location)?void 0:a.lng(),streetNumber:n(["street_number"]),route:n(["route"]),locality:n(["locality","administrative_area_level_2"]),administrativeAreaLevel1:n(["administrative_area_level_1"]),country:n(["country"]),postalCode:n(["postal_code"])}};return(0,a.jsx)("input",{ref:o,type:"text",value:s,onChange:e=>{t(e.target.value)},onFocus:()=>{},placeholder:l,className:"w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base sm:text-sm ".concat(n)})}},9997:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(5155),r=t(2115),l=t(2885),n=t(2994),i=t(4768),o=t(6479),c=t(7813),d=t(9224),m=t(8099),x=t(5039),u=t(5628),g=t(8593);let h=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}),p=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))});function j(){var e,s,t,j,y,f,v,b,N,w,C;let{currentProject:A,loading:E,refreshProjects:k}=(0,x.B)(),[D,R]=(0,r.useState)(!1),[S,M]=(0,r.useState)(!1),[P,I]=(0,r.useState)(!1),[V,_]=(0,r.useState)(!1),[H,O]=(0,r.useState)(!1),[F,T]=(0,r.useState)(""),[L,B]=(0,r.useState)("info"),[$,W]=(0,r.useState)({name:"",description:"",address:"",addressData:null,budget:0,startDate:"",endDate:""}),Z="AIzaSyDCLRbf1Nf6NxV4PqO_92-q1wE1rCNOaw0",G=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";T(e),B(s),O(!0)};(0,r.useEffect)(()=>{A&&W({name:A.name||"",description:A.description||"",address:A.address||"",addressData:A.addressPlaceId?{placeId:A.addressPlaceId,lat:A.addressLat||0,lng:A.addressLng||0}:null,budget:A.budget||0,startDate:A.startDate||"",endDate:A.endDate||""})},[A]);let K=async()=>{if(A)try{R(!0);let e=await fetch("/api/projects/".concat(A.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"archive"})});if(e.ok)await k(),G("Project archived successfully!","success");else{let s=await e.json();G(s.error||"Failed to archive project","error")}}catch(e){console.error("Error archiving project:",e),G("Failed to archive project","error")}finally{R(!1),I(!1)}},z=async()=>{if(A)try{M(!0);let e=await fetch("/api/projects/".concat(A.id),{method:"DELETE"});if(e.ok)G("Project deleted successfully!","success"),window.location.href="/projects/create";else{let s=await e.json();G(s.error||"Failed to delete project","error")}}catch(e){console.error("Error deleting project:",e),G("Failed to delete project","error")}finally{M(!1),_(!1)}};if(E)return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(l.V,{}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-64 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-96 mb-8"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded"})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"h-96 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})})]})]})})]});if(!A)return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(l.V,{}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Project Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Create a project first to access settings."}),(0,a.jsx)(i.$,{onClick:()=>window.location.href="/projects/create",children:"Create Your First Project"})]})})]});let U=e=>e?new Date(e).toISOString().split("T")[0]:"";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(l.V,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Settings"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Configure your project monitoring and notifications"})]})}),(null==A?void 0:A.status)==="ARCHIVED"&&(0,a.jsx)(n.Zp,{className:"bg-amber-50 border-amber-200 mb-8",children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(u.A,{className:"h-5 w-5 text-amber-400"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-amber-800",children:"Project Archived"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-amber-700",children:(0,a.jsx)("p",{children:"This project is archived and read-only. Email monitoring has stopped. You can view data but cannot modify settings."})})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(n.Zp,{className:"sticky top-8",children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsxs)("a",{href:"#monitoring",className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-900 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",onClick:e=>{var s;e.preventDefault(),null==(s=document.getElementById("monitoring"))||s.scrollIntoView({behavior:"smooth"})},children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),"Email Monitoring"]}),(0,a.jsxs)("a",{href:"#notifications",className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",onClick:e=>{var s;e.preventDefault(),null==(s=document.getElementById("notifications"))||s.scrollIntoView({behavior:"smooth"})},children:[(0,a.jsx)(h,{className:"w-5 h-5"}),"Notifications"]}),(0,a.jsxs)("a",{href:"#project",className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",onClick:e=>{var s;e.preventDefault(),null==(s=document.getElementById("project"))||s.scrollIntoView({behavior:"smooth"})},children:[(0,a.jsx)(p,{className:"w-5 h-5"}),"Project Details"]})]})})})}),(0,a.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,a.jsx)("div",{id:"monitoring",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),"Email Monitoring"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsx)("div",{className:"".concat((null==(e=A.emailSettings)?void 0:e.monitoringEnabled)?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"," border rounded-lg p-4"),children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(g.A,{className:"h-5 w-5 ".concat((null==(s=A.emailSettings)?void 0:s.monitoringEnabled)?"text-green-400":"text-gray-400")})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium ".concat((null==(t=A.emailSettings)?void 0:t.monitoringEnabled)?"text-green-800":"text-gray-800"),children:(null==(j=A.emailSettings)?void 0:j.monitoringEnabled)?"Monitoring Active":"Monitoring Inactive"}),(0,a.jsx)("div",{className:"mt-2 text-sm ".concat((null==(y=A.emailSettings)?void 0:y.monitoringEnabled)?"text-green-700":"text-gray-700"),children:(0,a.jsx)("p",{children:(null==(f=A.emailSettings)?void 0:f.monitoringEnabled)?"NailIt is actively monitoring emails from your contractor and team members for important project updates.":"Email monitoring is currently disabled. Enable it to track project updates."})})]})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Monitored Email Addresses"}),(0,a.jsxs)("div",{className:"space-y-2",children:[A.teamMembers&&A.teamMembers.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.email}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.name," - ","GENERAL_CONTRACTOR"===e.role?"General Contractor":"ARCHITECT_DESIGNER"===e.role?"Architect/Designer":"Project Manager"]})]}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",children:"Remove"})]},e.id)),(!A.teamMembers||0===A.teamMembers.length)&&(0,a.jsx)("div",{className:"text-center py-6 text-gray-500",children:(0,a.jsx)("p",{className:"text-sm",children:"No team members configured for monitoring."})})]}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"mt-3",children:"Add Email Address"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Detection Sensitivity"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:"sensitivity",value:"high",defaultChecked:!0,className:"mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"High Sensitivity"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Flag more potential changes (may include false positives)"})]})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:"sensitivity",value:"medium",className:"mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Medium Sensitivity (Recommended)"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Balanced detection with good accuracy"})]})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:"sensitivity",value:"low",className:"mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Low Sensitivity"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Only flag obvious and significant changes"})]})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.$,{children:"Save Monitoring Settings"})})]})]})}),(0,a.jsx)("div",{id:"notifications",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h,{className:"w-5 h-5"}),"Project Notifications"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Immediate Alerts"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Get notified immediately when high-priority changes are detected"})]}),(0,a.jsx)("input",{type:"checkbox",defaultChecked:null==(v=A.emailSettings)?void 0:v.highPriorityAlerts,className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Daily Summaries"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Receive daily digest of all project activity"})]}),(0,a.jsx)("input",{type:"checkbox",defaultChecked:null==(b=A.emailSettings)?void 0:b.notificationsEnabled,className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Weekly Reports"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Comprehensive weekly project progress reports"})]}),(0,a.jsx)("input",{type:"checkbox",defaultChecked:null==(N=A.emailSettings)?void 0:N.weeklyReports,className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Milestone Reminders"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Reminders for important project deadlines"})]}),(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Notification Schedule"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("label",{className:"text-sm text-gray-700 w-24",children:"Quiet Hours:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"time",defaultValue:"22:00",className:"px-2 py-1 border border-gray-300 rounded text-sm"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"to"}),(0,a.jsx)("input",{type:"time",defaultValue:"08:00",className:"px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("label",{className:"text-sm text-gray-700 w-24",children:"Weekend:"}),(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-[#34A853] focus:ring-[#34A853] border-gray-300 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Pause notifications on weekends"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.$,{children:"Save Notification Settings"})})]})]})}),(0,a.jsx)("div",{id:"project",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"w-5 h-5"}),"Project Details"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"projectName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name"}),(0,a.jsx)("input",{type:"text",id:"projectName",value:$.name,onChange:e=>W(s=>({...s,name:e.target.value})),readOnly:"ARCHIVED"===A.status,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ".concat("ARCHIVED"===A.status?"bg-gray-50 cursor-not-allowed":"")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"contractor",className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Contractor"}),(0,a.jsx)("input",{type:"text",id:"contractor",value:(null==(C=A.teamMembers)||null==(w=C.find(e=>"GENERAL_CONTRACTOR"===e.role))?void 0:w.name)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 cursor-not-allowed",placeholder:"Set via team members"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Description"}),(0,a.jsx)("textarea",{id:"description",rows:3,value:$.description,onChange:e=>W(s=>({...s,description:e.target.value})),readOnly:"ARCHIVED"===A.status,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ".concat("ARCHIVED"===A.status?"bg-gray-50 cursor-not-allowed":""),placeholder:"Enter project description..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",id:"startDate",value:U($.startDate),onChange:e=>W(s=>({...s,startDate:e.target.value})),readOnly:"ARCHIVED"===A.status,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ".concat("ARCHIVED"===A.status?"bg-gray-50 cursor-not-allowed":"")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Completion"}),(0,a.jsx)("input",{type:"date",id:"endDate",value:$.endDate?U($.endDate):"",onChange:e=>W(s=>({...s,endDate:e.target.value})),readOnly:"ARCHIVED"===A.status,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ".concat("ARCHIVED"===A.status?"bg-gray-50 cursor-not-allowed":"")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),Z&&"ARCHIVED"!==A.status?(0,a.jsx)(d.R,{value:$.address,onChange:(e,s)=>{W(t=>({...t,address:e,addressData:s||null}))},placeholder:"Enter project address...",apiKey:Z}):(0,a.jsx)("input",{type:"text",id:"address",value:$.address,onChange:e=>W(s=>({...s,address:e.target.value})),readOnly:"ARCHIVED"===A.status,placeholder:Z?"Enter project address...":"Google Maps API key required for autocomplete",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#34A853] focus:border-[#34A853] ".concat("ARCHIVED"===A.status?"bg-gray-50 cursor-not-allowed":"")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget"}),(0,a.jsx)(m.U,{value:$.budget,onChange:(e,s)=>{W(e=>({...e,budget:s}))},placeholder:"Enter project budget",disabled:"ARCHIVED"===A.status})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.$,{disabled:"ARCHIVED"===A.status,children:"ARCHIVED"===A.status?"Project Archived":"Update Project Details"})})]})]})}),(0,a.jsxs)(n.Zp,{className:"border-red-200",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-red-700",children:[(0,a.jsx)(u.A,{className:"w-5 h-5"}),"Project Actions"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Archive Project"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mb-3",children:"ARCHIVED"===A.status?"Project archived. Email monitoring stopped, data is read-only.":"Archive project to stop monitoring and preserve data. Creates space for new projects."}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"text-yellow-700 border-yellow-300 hover:bg-yellow-50",onClick:()=>I(!0),disabled:D||"ARCHIVED"===A.status,children:D?"Archiving...":"ARCHIVED"===A.status?"Already Archived":"Archive Project"})]}),(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Delete Project"}),(0,a.jsx)("p",{className:"text-sm text-red-700 mb-3",children:"Permanently delete this project and all associated data. This action cannot be undone."}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"text-red-700 border-red-300 hover:bg-red-50",onClick:()=>_(!0),children:S?"Deleting...":"Delete Project"})]})]})]})]})]})]}),P&&A&&(0,a.jsx)(o.u,{isOpen:P,onClose:()=>I(!1),onConfirm:K,title:"Archive Project",description:'Archive "'.concat(A.name,'"?\n\nThis will:\n• Stop email monitoring\n• Make project read-only\n• Enable creation of new projects\n\nArchived project data remains accessible for viewing.'),confirmText:"Archive Project",cancelText:"Cancel",type:"warning",loading:D}),V&&A&&(0,a.jsx)(o.u,{isOpen:V,onClose:()=>_(!1),onConfirm:z,title:"Permanently Delete Project",description:'This action cannot be undone. This will permanently delete the "'.concat(A.name,'" project, including all timeline entries and flagged items. Please type the project name to confirm.'),confirmText:"Delete Project",cancelText:"Cancel",type:"danger",loading:S}),(0,a.jsx)(c.y,{isOpen:H,onClose:()=>O(!1),title:F,type:L})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4277,2108,6874,4284,1745,8441,1684,7358],()=>s(522)),_N_E=e.O()}]);